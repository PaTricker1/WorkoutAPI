DROP SCHEMA f CASCADE;
CREATE SCHEMA f;
SET client_encoding TO 'UTF8';
SET DateStyle TO 'German';

CREATE TABLE f.Sval_partie(
id_partie SERIAL PRIMARY KEY,
nazov_partie VARCHAR(30) NOT NULL 
);

CREATE TABLE f.Cvik(
id_cvik SERIAL PRIMARY KEY,
nazov_cviku VARCHAR(30) NOT NULL UNIQUE,
id_partie INT NOT NULL REFERENCES f.Sval_partie(id_partie)
);

CREATE TABLE f.Workouts(
id_workout SERIAL PRIMARY KEY,
den DATE,
nazov_cviku VARCHAR(30) NOT NULL REFERENCES f.Cvik(nazov_cviku),
rep1 INT DEFAULT 0,
weight1 NUMERIC(6,2) DEFAULT 0,
rep2 INT DEFAULT 0,
weight2 NUMERIC(6,2) DEFAULT 0,
rep3 INT DEFAULT 0,
weight3 NUMERIC(6,2) DEFAULT 0,
rep4 INT DEFAULT 0,
weight4 NUMERIC(6,2) DEFAULT 0
);

\COPY f.Sval_partie(nazov_partie) FROM 'C:\dsikt\SvalPartia.csv' CSV HEADER;
\COPY f.Cvik(nazov_cviku,id_partie) FROM 'C:\dsikt\Cvik.csv' DELIMITER ';' CSV HEADER;





